@page "/product/{ProductId:int}"

<h3>Edit Product #@ProductId</h3>
@if (Product != null)
{
    <RadzenTemplateForm Data="@Product" Submit="@(async (Product args) => { await Save(args); })">
        <div class="row">
            <div class="col-md-12">
                <RadzenFieldset Text="Product Info">

                    <div class="row mb-3">
                        <div class="col-md-4 align-items-center d-flex">
                            <RadzenLabel Text="Sku" />
                        </div>
                        <div class="col-md-8">
                            <RadzenTextBox Class="w-100" Name="Sku" @bind-Value="Product.Sku" />
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-4 align-items-center d-flex">
                            <RadzenLabel Text="Name" />
                        </div>
                        <div class="col-md-8">
                            <RadzenTextBox Class="w-100" Name="Sku" @bind-Value="Product.ProductName" />
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-4 align-items-center d-flex">
                            <RadzenLabel Text="Short Description" />
                        </div>
                        <div class="col-md-8">
                            <RadzenTextArea Class="w-100" Name="Sku" @bind-Value="Product.ShortDescription" />
                        </div>
                    </div>
                </RadzenFieldset>
                <RadzenFieldset Text="Tags" class="mt-3">
                    <div class="row">
                        <ul>
                            @foreach (var tag in Product.Tags)
                        {
                            <li>#@tag.Id - @tag.TagName</li>
                        }

                        <p>Aggiungi Tag a Prodotto:</p>
                        <RadzenDropDown Data="@Tags" TValue="int" @bind-Value=@SelectedTag TextProperty="TagName" ValueProperty="Id" ></RadzenDropDown>
                        <RadzenAutoComplete @bind-Value="TagName" Data="@Tags" TextProperty="TagName" Placeholder="Tag..."
                        FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive" Change="@TagsChanged" Visible="false"></RadzenAutoComplete>
                    </ul>
                </div>

            </RadzenFieldset>
        </div>

    </div>
    <div class="row justify-content-center">
        <div class="col-md-12 d-flex align-items-end justify-content-center" style="margin-top: 16px;">
            <RadzenButton ButtonType="ButtonType.Submit" Icon="save" Text="Save" />
            <RadzenButton ButtonStyle="ButtonStyle.Light" Icon="cancel" style="display: inline-block; margin-left: 10px;" Text="Cancel" Click="@Cancel" />
        </div>
    </div>
</RadzenTemplateForm>
}
else
{
    <p>Loading...</p>
}